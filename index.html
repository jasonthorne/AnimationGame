<!DOCTYPE html>

<html>

  <head>
    <meta charset="UTF-8">
    <title>Apple Catch</title>

    <style type="text/css">
    </style>

  </head>

  <body>

    <canvas id="canvas" width="540" height="640"></canvas>

    <script type="text/javascript">
           
    var canvas = document.getElementById("canvas"),
    ctx = canvas.getContext("2d");
        
   
    //make image
    var bg = new Image(); //make background variable
    bg.src = 'img/bg.png'; //give image source
    var bgX  = 0 //x pos of background 
    var bgY  = 0; //y pos of background 
    var bgW  = canvas.width; //width of background 
    var bgH  = canvas.height; //height of background  
        
        
    //make apple
    var apl = new Image(); //make apple variable
    apl.src = 'img/apl.png'; //give image source
    var aplX = 110 //x pos of apple
    var aplY = 69; //y pos of apple
    var aplW = 60; //width of apple
    var aplH = 60; //height of apple
        
    
    //make basket
    var bsk = new Image(); //make basket variable
    var bskW = 100; //width of basket
    var bskH = 100; //height of basket
    var bskX = (canvas.width - bskW) /2; //x pos of basket
    var bskY = (canvas.height - bskH) - 10; //y pos of basket
   
        
        
    //load and draw tree image, then basket
    bg.onload = function()
                {
                    ctx.drawImage(bg, bgX, bgY, bgW, bgH);
                   //apl.src = 'img/apl.png'; /////////////////////////////////////DELETE++++++++++++++++++++++
                    apl.onload = function() ///////////////////////DELETE. no initial draw, so that apple location is hidden b4 drop+++++++++++++++
                                 {
                                        ctx.drawImage(apl, aplX, aplY, aplW, aplH);
                                 }
        
                  
                    bsk.src = 'img/bsk.png';
                    bsk.onload = function()
                                 {
                                        
                                        ctx.drawImage(bsk, bskX, bskY, bskW, bskH);
                                 }
                }
    
    //--------------------------------------------------------------------
    
    
    window.addEventListener("keydown", function(event) 
    { 
            ctx.clearRect(0, 0, canvas.width, canvas.height);
             

            if (event.keyCode == 37) //if left is pressed
            {
              bskX -= 35; 
              console.log("left pressed"); ////////////////////////////////DELETE
            }
            else if (event.keyCode == 39) //if right is pressed
            {
              bskX += 35;
              console.log("right pressed"); ////////////////////////////////DELETE
            }
        
            draw();
    
    });
        
//--------------------------------------------------------------------
        
        
    repeatMe();
    
        
    function repeatMe() 
    {
        
       
        ctx.clearRect(0, 0, canvas.width, canvas.height);   
        
         aplY += 8; //want this to be random.+++++++++++++++++++++++ 
        
        draw();
        
        window.requestAnimationFrame(repeatMe);
    }
        
        
 //--------------------------------------------------------------------
        
        
    function draw()
    {
         ctx.drawImage(bg, bgX, bgY, bgW, bgH); //draw background
         ctx.drawImage(apl, aplX, aplY, aplW, aplH); //draw apple
         ctx.drawImage(bsk, bskX, bskY, bskW, bskH); //draw basket 
    }    
      
        
        
    </script>

  </body>

</html>